(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{dKXO:function(module,e,t){"use strict";t.d(e,"a",(function(){return getImageProps}));var i=t("38OI"),n={fit:"clip",quality:10},getImageProps=function(e){var t=Object(i.b)(e,1280,720,n);return{src:t.dpr1,srcSet:t.dpr2&&t.dpr3&&"".concat(t.dpr2," 2x, ").concat(t.dpr3," 3x")}}},"hI+9":function(module,e,t){"use strict";t.r(e);var i=t("q1tI"),n=t("qhky"),r=t("8bdM"),d=t("JYi1"),o=t("vXr1"),u=t("E+hb"),a=t("3tO9"),s=t.n(a),c=t("15pW"),l=t("K7Vu"),VideoItemActions_loadVideoItem=function(e,t){e.dispatch("LOAD_VIDEO_ITEM_START");var i=e.getStore(u.a),n=i.getCourseId(),r=i.getCourseSlug();return function(e){var t=e.itemId,i=e.courseId,n=e.courseSlug;return new l.a({itemId:t,courseId:i,courseSlug:n}).getWithCourseItemId(c.d.lectureVideosApi,{includes:["video"],fields:["onDemandVideos.v1(sources,subtitles,subtitlesVtt,subtitlesTxt,subtitlesAssetTags,dubbedSources,dubbedSubtitlesVtt)","disableSkippingForward","startMs","endMs"]}).then((function(e){var t=e.linked["onDemandVideos.v1"][0],i=e.elements[0].disableSkippingForward,n=e.elements[0].startMs,r=e.elements[0].endMs;return s()(s()({},t),{},{disableSkippingForward:i,startTimeMs:n,endTimeMs:r})}))}({itemId:t,courseId:n,courseSlug:r}).then((function(i){e.dispatch("LOAD_VIDEO_ITEM_SUCCESS",{itemId:t,videoData:i})})).catch((function(t){e.dispatch("LOAD_VIDEO_ITEM_ERROR",{errorMessage:t.message||"Failed to load video data"})}))},v=t("2T+N"),b=t("dKXO");e.default=function(e){var t,u,a,s=e.children,c=function(){var e,t,n=Object(o.e)(),u=Object(o.c)(),a=null!==(e=n.item_id)&&void 0!==e?e:"",s=null!==(t=n.courseSlug)&&void 0!==t?t:"",c=u.pathname.includes("".concat(s,"/lecture/").concat(a)),l=Object(d.a)(v.a,(function(e){return{videoItemId:e.itemId,videoData:e.videoData,loading:!e.hasLoaded()}})),b=l.videoItemId,p=l.videoData,f=l.loading,m=Object(r.a)(),I=Object(i.useCallback)((function(e){c&&m(VideoItemActions_loadVideoItem,e)}),[m,c]),g=Object(i.useRef)(!1);return"undefined"==typeof window&&!g.current&&(I(a),g.current=!0),Object(i.useEffect)((function(){b!==a&&I(a)}),[b,a,I]),{loading:f||a!==b,videoData:p}}().videoData,l=null==c?void 0:null===(t=c.sources)||void 0===t?void 0:null===(u=t.byResolution)||void 0===u?void 0:null===(a=u["720p"])||void 0===a?void 0:a.previewImageUrl,p=Object(i.useMemo)((function(){return function(e){if(e){var t=Object(b.a)(e);return[{rel:"preload",as:"image",href:null==t?void 0:t.src,imagesrcset:null==t?void 0:t.srcSet,fetchpriority:"high"}]}}(l)}),[l]);return i.createElement(i.Fragment,null,p&&i.createElement(n.b,{link:p}),s)}}}]);
//# sourceMappingURL=97.c1ae560e6c74a7d34962.js.map